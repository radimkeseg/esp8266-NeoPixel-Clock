<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>NeoPixel Cuckoo</title>

<script>
 var simplePicker = {
   colorize: function(color, destID){
     if(color.match(/^#[0-9a-f]{3,6}$/)){
     document.getElementById(destID).style.backgroundColor = color;
     document.getElementById(destID).className = "color-box";
   }else{
     document.getElementById(destID).style.backgroundColor = "";
     document.getElementById(destID).className = "color-box color-box-error";
   }
   },

   init: function(){
    this.colorize('#00f','box-hand-hour');
    this.colorize('#0f0','box-hand-mins');
    this.colorize('#f00','box-hand-secs');
   }
  };

  window.onload = function(){
    simplePicker.init();
  }
</script>

<style>
.color-box{
    width: 32px;
    height: 20px;
    display: inline-block;
    border: 1px solid #000;
    margin-bottom: -7px;
}
.color-box-error{
    border: 1px solid #f00;
}
</style>

<body>
<h1>NeoPixel Cuckoo</h1>
<p>
Neopixel Cuckoo with an ESP8266 IoT device
<p/>

<form method='post' action='offset'>
<label>UTC TimeOffset<br><input id='_timeoffset' name='_timeoffset' length=5 pattern='^[0-9-\\.]{1,5}$' required value='{timeoffset}'></label><br>
<label>DST<br><input id='_dst' name='_dst' type='checkbox' {dst}></label><br>
<br/>
<label>Brightness<br><input id='_brightness' name='_brightness' length=3 pattern='^[0-9]{3,0}$' value='{brightness}'></label><br>
<br/>
<lable>Hand colors:</label><br/>
<label><input type="text" pattern="#[0-9a-f]{3,6}" name="input-hand-hour" title="e.g. #00f or #0000ff" value="#00f" onkeyup="simplePicker.colorize(this.value,'box-hand-hour')" ><div class="color-box" id="box-hand-hour"></div> hours</label><br/>
<label><input type="text" pattern="#[0-9a-f]{3,6}" name="input-hand-mins" title="e.g. #0f0 or #00ff00" value="#0f0" onkeyup="simplePicker.colorize(this.value,'box-hand-mins')"><div class="color-box" id="box-hand-mins"></div> minutes</label><br/>
<label><input type="text" pattern="#[0-9a-f]{3,6}" name="input-hand-secs" title="e.g. #f00 or #ff0000" value="#f00" onkeyup="simplePicker.colorize(this.value,'box-hand-secs')"><div class="color-box" id="box-hand-secs"></div> seconds</label><br/>
<br/>
<input type='submit' value='Store and Restart'></form>


</body>
</html>
